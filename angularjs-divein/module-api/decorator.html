<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <title>Decorator</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../node_modules//bootstrap/dist/css/bootstrap.css" />
</head>
<body>
    <div>
        <pre>
        Decorator can be used in cases where you want to enhance the service without actually tinkering with it 
      directly. For e.g., you have defined a service in a module and this service is being used across various 
      other modules in your application. Now, for one particular module you want to enhance the service without 
      affecting the usage of this service in other modules. What do you do? Decorate the service in that module!
        This would be really helpful in a case where a 3rd party module contributes a service, which you want to
      tweak before consuming it in your module, without affecting the original service.
</pre>
    </div>
    <script src="../node_modules/jquery/dist/jquery.js"></script>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.js"></script>
    <script src="../node_modules/angular/angular.js"></script>
    <script>
        //signature:
        //decorator(name, fn)

        //other vendor provides this:
        var thirdPartyModule = angular.module('GODKING', []);
        thirdPartyModule.service('nameListSvc', NameListService);
        function NameListService() {
            var nameList = ['ADVS', 'SSNC', 'APPL'];

            this.get = function () {
                return nameList;
            };
        }


        //our app depends on GODKING module
        var myApp = angular.module('myApp', ['GODKING']);

        myApp.config(function ($provide) {
            //decorate nameListSvc from GODKING module before we use it
            $provide.decorator('nameListSvc', function ($delegate) {//$delegate, injectable which stands for original service
                $delegate.display = function(){
                    console.log('decorated method display...');
                    console.log($delegate.get());
                }

                return $delegate;//don't forget to return 
            });
        });
        
        myApp.run(function (nameListSvc) {
            nameListSvc.display();
        });


    </script>
</body>
</html>

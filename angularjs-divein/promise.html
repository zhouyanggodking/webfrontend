<!DOCTYPE html>
<html lang="en" ng-app="app">

<head>
    <title>Promise</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link href="css/style.css" rel="stylesheet"> -->
</head>

<body>
    <div ng-controller="myCtrl"></div>
    <script src="../node_modules/angular/angular.js"></script>
    <script>
        var app = angular.module('app', []);
        app.controller('myCtrl', MyController);

        function MyController($scope, $q) {
            var promise = asyncFunc();

            promise.then(function(data) {
                return data + 1000;
            }).catch(function(reason) {
                console.log('in catch');
                console.log(reason);
            }).finally(function(arg) {
                console.log('in finally');
                console.log(arg);
            });

            function asyncFunc() {
                var deferred = $q.defer();

                setTimeout(function() {
                    deferred.reject(100);
                }, 1000);

                return deferred.promise;
            }

        }
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Play Ground</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link href="css/style.css" rel="stylesheet"> -->
</head>

<body>
    <button id="test">Test</button>
    <script src="./js/event.js"></script>
    <!-- <script>
        var btn = document.querySelector('#test');

        eventUtility.addEvent(btn, 'click', function(event) {
            console.log('test clicked 1');
        });

        eventUtility.addEvent(btn, 'click', function(event) {
            console.log('test clicked 2');
        });

        var emitter = new EventEmitter();
        emitter.bind('testclick', function(args) {
            console.log('testclick 1 ' + args);
        });

        emitter.bind('testclick', function(args) {
            console.log('testclick 2 ' + args);
        });

        emitter.trigger('testclick', 'godking');
    </script> -->

    <script>
        var test = "a<>b     'abc<>b ssf<>bg' 'a<>b'    c<>d";

        var arr = [];
        test.replace(/<>/g, function(match, index) {
            arr.push(index);
        });

        var dqArr = [];
        test.replace(/\".*?<>.*?\"/g, function(match, index) {
            dqArr.push({
                start: index,
                end: index + match.length
            });
        });

        var sqArr = [];
        test.replace(/\'.*?<>.*?\'/g, function(match, index) {
            sqArr.push({
                start: index,
                end: index + match.length
            });
        });

        function isExcluded(index, targetArr) {
            for (var i = 0; i < targetArr.length; ++i) {
                if (index >= targetArr[i].start && index < targetArr[i].end) {
                    return true;
                }
            }
            return false;
        }

        var testArr = test.split('');

        for (var j = 0; j < arr.length; ++j) {
            if (!isExcluded(arr[j], dqArr) && !isExcluded(arr[j], sqArr)) {
                // test.splice(arr[j], 2, '!=');
                //Array.prototype.splice.call(test, arr[j], 2, '!');
                testArr.splice(arr[j], 2, '!', '=');
            }
        }

        var result = testArr.join('');
    </script>
</body>

</html>